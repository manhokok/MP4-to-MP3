#!/bin/bash

# Đường dẫn đích để di chuyển file MP4
destination="/sdcard/videos"

# Tạo thư mục đích nếu chưa tồn tại
mkdir -p "$destination"

# Hàm đệ quy để quét thư mục và di chuyển file MP4
scan_and_move() {
    for entry in "$1"/*; do
        if [ -d "$entry" ]; then
            # Nếu là thư mục, hiển thị thông báo và tiếp tục quét
            echo "Đang quét thư mục $entry..."
            scan_and_move "$entry"
        elif [ -f "$entry" ] && [[ "$entry" == *.mp4 ]]; then
            # Nếu là file MP4, di chuyển file
            echo "Di chuyển file: $entry"
            mv "$entry" "$destination"
        fi
    done
}

# Bắt đầu quét từ thư mục /sdcard
scan_and_move "/sdcard"

echo "Quá trình quét và di chuyển hoàn tất!"
